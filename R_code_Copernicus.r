#What is Copernicus? üõ∞Ô∏è

#Copernicus is the European Union‚Äôs Earth Observation Programme, which monitors our planet and its environment for the ultimate benefit of the citizens of Europe. It delivers data, information and services based on satellite Earth Observation data and insitu (non-space) data. The Programmeis funded, coordinated and managedby the European Commission in cooperation with partners such as ESA and EUMETSAT

#What is the official Copernicus website?

#The official Copernicus website is https://www.copernicus.eu/en

#How to register a personal account on this website?

#To register a personal account on the previous website anyone have to click the ùó•ùóòùóöùóúùó¶ùóßùóòùó• button and enter the following informations in the dedicated sections: ùòúùò¥ùò¶ùò≥ùòØùò¢ùòÆùò¶*, ùòóùò¢ùò¥ùò¥ùò∏ùò∞ùò≥ùò•*, ùòäùò∞ùòØùòßùò™ùò≥ùòÆ ùò±ùò¢ùò¥ùò¥ùò∏ùò∞ùò≥ùò•*, ùòçùò™ùò≥ùò¥ùòµ ùòØùò¢ùòÆùò¶*, ùòìùò¢ùò¥ùòµ ùòØùò¢ùòÆùò¶*, ùòå-ùòÆùò¢ùò™ùò≠ ùò¢ùò•ùò•ùò≥ùò¶ùò¥ùò¥*, ùòäùò∞ùòÆùò±ùò¢ùòØùò∫*, ùòãùò∞ùòÆùò¢ùò™ùòØ ùò∞ùòß ùò¢ùò§ùòµùò™ùò∑ùò™ùòµùò∫*, ùòõùò∫ùò±ùò¶ ùò∞ùòß ùò∞ùò≥ùò®ùò¢ùòØùò™ùòªùò¢ùòµùò™ùò∞ùòØ* and ùòäùò∞ùò∂ùòØùòµùò≥ùò∫*

#After completing the ùòéùò¶ùòØùò¶ùò≥ùò¢ùò≠ ùò™ùòØùòßùò∞ùò≥ùòÆùò¢ùòµùò™ùò∞ùòØ section, the future user will prove that he/she is not a robot throught reCAPTCHA system in the ùòùùò¢ùò≠ùò™ùò•ùò¢ùòµùò™ùò∞ùòØ ùò§ùò∞ùò•ùò¶ section below: clicking on the box a green check (G‚úì) should appear! 

#To conclude the ùòôùò¶ùò®ùò™ùò¥ùòµùò≥ùò¢ùòµùò™ùò∞ùòØ ùòßùò∞ùò≥ùòÆ, in the ùòõùò¶ùò≥ùòÆùò¥ ùò∞ùòß ùò∂ùò¥ùò¶ section in the end terms of use and privacy policy must be accepted by ticking with the left mouse button another box but this time with a blue check (B‚úì)     

#Clicking the ùó•ùóòùóöùóúùó¶ùóßùóòùó• button should appear the following message: By registering in this website you are deemed to have accepted the T&C for Sentinel data use

#After this message appears, the user will receive an account activation link in the mailbox indicated in the appropriate section with the information previously entered

#Attention: the activation of an account in the Copernicus programme is a prerequisite for downloading satellite images on it

#How to download a satellite image from the official website of the Copernicus program?

#The satellite image that the user would like to download is to be identified within the thematic sections contained in the main page: ùòùùò¶ùò®ùò¶ùòµùò¢ùòµùò™ùò∞ùòØ ùò¥ùòµùò¢ùòµùò¶, ùòåùòØùò¶ùò≥ùò®ùò∫ ùò£ùò∂ùò•ùò®ùò¶ùòµ, ùòûùò¢ùòµùò¶ùò≥ ùòäùò∫ùò§ùò≠ùò¶ and ùòäùò≥ùò∫ùò∞ùò¥ùò±ùò©ùò¶ùò≥ùò¶

#Each thematic section is made up of collections which, in order, are:

#ùòùùò¶ùò®ùò¶ùòµùò¢ùòµùò™ùò∞ùòØ ùò¥ùòµùò¢ùòµùò¶ -> VEGETATION PROPERTIES VEGETATION INDICATORS DRY MATTER PRODUCTIVITY, FIRE DISTURBANCE SOIL WATER INDEX and SURFACE SOIL MOISTURE

#ùòåùòØùò¶ùò≥ùò®ùò∫ ùò£ùò∂ùò•ùò®ùò¶ùòµ -> ROOT - TOP OF CANOPY REFLECTANCE, ALBEDO and LAND SURFACE TEMPERATURE

#ùòûùò¢ùòµùò¶ùò≥ ùòäùò∫ùò§ùò≠ùò¶ -> LAKE SURFACE WATER TEMPERATURE, LAKE WATER QUALITY,WATER BODIES and WATER LEVEL

#ùòäùò≥ùò∫ùò∞ùò¥ùò±ùò©ùò¶ùò≥ùò¶ -> CRYOSPHERE

#It is possible to have a preview of the collection in which I am interested by clicking on the Collections subsection;

#The ùì≤ at the top right instead is a link to the European Union's Earth Observation Program website where the collection I selected from the main page is in-depth

#By clicking on the collection from which to obtain the satellite image, a map of the globe will appear on the screen with a toolbar on the right to extrapolate the image of my interest

#The reference section is Catalog research with three subsections to facilitate the search for the user: Help, Collection and Basic

#In the Help subsection there is the following warning: The "Catalog search" tab allows you to define search criteria and start a search within the catalog

#In the Collection subsection there is the set of downloadable products in the reference collection

#While in the Basic subsection the user has the possibility to choose the time period in which to carry out a hypothetical future analysis: Start date and End Date. However, with the Slot I can be in a position to investigate a range from year to year useful for multitemporal analyzes

#The ROI instead is a tool that allows you to enter the coordinates of the area of my interest or through which I get them after selecting the previous area as Draw region of interest

#Search in progress wait

#To download the satellite image of my interest - visible in preview by clicking with the left button on the thumbnail or even quicklook for a correspondence with the global map made available by Copernicus - the blue download arrow is responsible for uploading it to the indicated folder during his rescue

#install.packages() is a function which download and install packages from CRAN-like repositories or from local files

#The first package to install is raster through which is possible reading, writing, manipulating, analyzing and modeling of spatial data. The package implements basic and high-level functions for raster data and for vector data operations such as intersections:

install.packages("raster")

#The second package to install is ncfd4, which provides a high-level R interface to data files written using Unidata's netCDF library (version 4 or earlier), which are binary data files that are portable across platforms and include metadata information in addition to the data sets. Using this package, netCDF files (either version 4 or ``classic'' version 3) can be opened and data sets read in easily:

install.packages("ncfd4")

#library() is a function which load and attach add-on packages, in this case the previous raster and ncfd4 packages:

library(raster)

library(ncfd4)

#In my computer R must use the folder named simply lab and I exploit a function (setwd) for the association between R and lab folder:

setwd("C:/lab/")

#In a different way from the R_remote_code_sensing_first.r, although I still exploit a function to import data from greenland subfolder - external - to R - internal¬π - this will be raster and not brick because our data does not represent a multi-layer raster object but raster layer objects!

snowcover2021* <- raster("c_gls_SCE500_202104010000_CEURO_MODIS_V1.0.1.nc")

#Important: the brick function creates a RasterBrick object that is a multi-layer raster object typically from a multi-layer (band) file. Instead the raster function creates a RasterLayer object from scratch, a file, an Extent object, a matrix, an 'image' object, or from a Raster *, Spatial *, im (spatstat) asc, kasc (adehabitat *), grf (geoR) or kde object!

#In R, to visualize information of snowcover2021, name of it followed by Enter ‚Üµ as physical command by keyboard:

snowcover2021

#The relatively snowcover2021 information is contained within the table:

class      : RasterLayer 
dimensions : 7400, 12200, 90280000  (nrow, ncol, ncell)
resolution : 0.005, 0.005  (x, y)
extent     : -11, 50, 35, 72  (xmin, xmax, ymin, ymax)
crs        : +proj=longlat +datum=WGS84 +no_defs 
source     : c_gls_SCE500_202104010000_CEURO_MODIS_V1.0.1.nc 
names      : Snow.Cover.Extent 
z-value    : 2021-04-01 
zvar       : sce500 

#plot is a common function for plotting of R object and in this case I exploit the previous to visualize spectral bands:

plot(snowcover2021)

#I exploit a function (colorRampPalette) to create a new palette of colors each one of them is indexed: numbered pixel as virtual box matches numbered color as bit depth:

sc21gbwcp <- colorRampPalette(c('green','brown','white'))(1000)

#plot(plot(snowcover2021) must be reformulated by incorporating new palette of colors sc21gbwcp: plot(snowcover2021, col=sc21gbwcp) will display graphically reflectance's values in a green, brown and black colour scale:

plot(snowcover2021, col=sc21gbwcp)

#Why does the background in the plot change (snowcover2021, col = sc21gbwcp) is green as if there is no snow cover?

#The NÃ≤ot AÃ≤ssigned values (NA) in the background of the plot (snowcover2021, col = sc21gbwcp) are to be reclassified because there is no association with the values in reality!

#reclassify() is a function which reclassify values of a Raster* object. The function (re)classifies groups of values to other values. For example, all values between 1 and 10 become 1, and all values between 11 and 15 become 2:

snowcover2021reclassified <- raster::reclassify(snowcover2021, cbind(252,255, NA), right=TRUE)

#plot is a common function for plotting of R object and in this case I exploit the previous to visualize snowcover2021reclassified without a colored green background because of the reclassification in NA values:

plot(snowcover2021reclassified)

#Using the aggregate () function it is possible to reduce the resolution in snowcover2021reclassified by resampling instead of preserving it as shown in 5. R code multivariate analysis?

#The function aggregate() splits the data into subsets, computes summary statistics for each, and returns the result in a convenient form:

sc21ra <- aggregate(snowcover2021reclassified, fact=100) 

#plot(plot(sc21ra) must be reformulated by incorporating new palette of colors sc21gbwcp: plot(sc21ra, col=sc21gbwcp) will display graphically reflectance's values in a green, brown and black colour scale:

plot(sc21ra, col=sc21gbwcp)

#The plot () function shows the difference in resolution between snowcover2021reclassified and sc21ra: scr21ra resolution < snowcover2021reclassified resolution. The resampling of its pixels in an image depending on the attributed reflectance values ‚Äã‚Äãcould compromise its readability and / or interpretation!

#Sequence of informatic commands for R_code_Copernicus.r:

install.packages("raster")

install.packages("ncdf4")

library(raster)

library(ncdf4)

snowcover2021 <- raster("c_gls_SCE500_202104010000_CEURO_MODIS_V1.0.1.nc")

snowcover2021

plot(snowcover2021)

sc21gbwcp <- colorRampPalette(c('green','brown','white'))(1000)

plot(snowcover2021, col=sc21gbwcp)

snowcover2021reclassified <- raster::reclassify(snowcover2021, cbind(252,255, NA), right=TRUE)

plot(snowcover2021reclassified)

sc21ra <- aggregate(snowcover2021reclassified, fact=100) 

